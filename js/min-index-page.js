var button_link=document.querySelector(".button-link-contacts"),feedback=document.querySelector(".modal-feedback"),close=feedback.querySelector(".modal-close"),feedback_name=feedback.querySelector("[name=feedback-name]"),email=feedback.querySelector("[name=email]"),text_feedback=feedback.querySelector("[name=text-feedback]"),form=feedback.querySelector("form"),isStorageSupport=!0,storage="",storage_email="";try{storage=localStorage.getItem("feedback_name"),storage_email=localStorage.getItem("email")}catch(e){isStorageSupport=!1}button_link.addEventListener("click",function(e){e.preventDefault(),feedback.classList.add("modal-show"),feedback_name.focus(),storage?(feedback_name.value=storage,email.value=storage_email,text_feedback.focus()):name.focus()}),close.addEventListener("click",function(e){e.preventDefault(),feedback.classList.remove("modal-show"),feedback.classList.remove("modal-error")}),form.addEventListener("submit",function(e){feedback_name.value&&email.value&&text_feedback.value?isStorageSupport&&(localStorage.setItem("feedback_name",feedback_name.value),localStorage.setItem("email",email.value)):(e.preventDefault(),feedback.classList.remove("modal-error"),feedback.offsetWidth=feedback.offsetWidth,feedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),feedback.classList.contains("modal-show")&&(feedback.classList.remove("modal-show"),feedback.classList.remove("modal-error")))});var map_button=document.querySelector(".button-modal-map"),map_popup=document.querySelector(".modal-map");close=map_popup.querySelector(".modal-close");map_button.addEventListener("click",function(e){e.preventDefault(),map_popup.classList.add("modal-show")}),close.addEventListener("click",function(e){e.preventDefault(),map_popup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),map_popup.classList.contains("modal-show")&&map_popup.classList.remove("modal-show"))});var cart_link=document.querySelectorAll(".buy"),cart_popup=document.querySelector(".modal-cart");close=cart_popup.querySelector(".modal-close");for(i=0;i<cart_link.length;i++)cart_link[i].addEventListener("click",function(e){e.preventDefault(),cart_popup.classList.add("modal-show")});close.addEventListener("click",function(e){e.preventDefault(),cart_popup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),cart_popup.classList.contains("modal-show")&&cart_popup.classList.remove("modal-show"))});
